================================================================================
GUÃA DE REGLAS DE NORMALIZACIÃ“N - DIRECCIONES COLOMBIANAS
================================================================================

ðŸ“Œ REGLA 1: FORMATO ESPERADO
================================================================================
Las direcciones normalizadas siguen estos formatos:

  FORMATO A - Con tipo de vÃ­a explÃ­cito:
    [TIPO_VÃA] [NUM1] [NUM2] [NUM3 OPCIONAL]
    Ejemplo: "CL 123 45 67" o "KR 7 34 56"

  FORMATO B - Sin tipo de vÃ­a (solo nÃºmeros):
    [NUM1] [NUM2] [NUM3 OPCIONAL]
    Ejemplo: "123 456" o "50 10 20"

Tipos de vÃ­a vÃ¡lidos y sus abreviaturas:
  - CALLE, CLL, CL -> CL
  - CARRERA, CRA, KRA, KR, CARR, AK, K -> KR
  - AVENIDA, AV, AVD, AVDA, AVE -> AV
  - DIAGONAL, DG, DIAG -> DG
  - TRANSVERSAL, TV, TRANSV, TR -> TV
  - VEREDA, VDA, VIA, PASAJE, PAS, PASEO, PEATONAL, PTE, PERIF, CTRA, ETC.

================================================================================
ðŸ“Œ REGLA 2: QUÃ‰ SE PROCESA âœ…
================================================================================

1. DIRECCIONES CON TIPO DE VÃA EXPLÃCITO + NÃšMEROS
   âœ“ "Calle 123 #45-67" -> "CL 123 45 67"
   âœ“ "Carrera 7 No. 34-56" -> "KR 7 34 56"
   âœ“ "Avenida 9 # 45 - 23" -> "AV 9 45 23"

2. SOLO NÃšMEROS (SIN TIPO DE VÃA)
   âœ“ "123 456" -> "123 456"
   âœ“ "50 10 20" -> "50 10 20"

3. DIRECCIONES CON DESCRIPTIVOS (se limpian y procesan)
   âœ“ "Calle 50 #10-20 Piso 3" -> "CL 50 10 20" (se elimina PISO)
   âœ“ "Cra 7 No. 34-56 apt 2" -> "KR 7 34 56" (se elimina APT)
   âœ“ "Avenida 9 45 23 Apto 5B" -> "AV 9 45 23" (se elimina APTO)

4. DIRECCIONES CON CIUDADES (se limpian y procesan)
   âœ“ "BOGOTA - Calle 50 # 10-20" -> "CL 50 10 20"
   âœ“ "MedellÃ­n Cra 7 34 56" -> "KR 7 34 56"

5. DIRECCIONES CON SÃMBOLOS (se normalizan y procesan)
   âœ“ "Calle 123 #45-67" -> "CL 123 45 67" (# y - se convierten en espacios)
   âœ“ "Diagonal 10 bis 56 - 89" -> "DG 10 BIS 56 89"

================================================================================
ðŸ“Œ REGLA 3: QUÃ‰ NO SE PROCESA (SE RECHAZA) âŒ
================================================================================

1. COORDENADAS GPS (2 o mÃ¡s nÃºmeros decimales)
   âœ— "10.123456  -74.654321" -> "" (rechazado)
   âœ— "10.123456, -74.654321" -> "" (rechazado)

2. VALORES VACÃOS O INVÃLIDOS
   âœ— "" (cadena vacÃ­a) -> ""
   âœ— "NaN" -> ""
   âœ— "none" -> ""
   âœ— "00" -> ""

3. SOLO TIPO DE VÃA SIN NÃšMEROS
   âœ— "Calle" -> "" (solo tipo de vÃ­a, sin nÃºmeros)
   âœ— "Carrera" -> ""

4. SOLO PALABRAS SIN NÃšMEROS (excepto si tienen tipo de vÃ­a vÃ¡lido)
   âœ— "Vereda El Palmar" -> "" (tipo de vÃ­a pero sin nÃºmeros)
   âœ— "Barrio Centro" -> "" (sin tipo de vÃ­a vÃ¡lido ni nÃºmeros)
   âœ— "Zona Industrial" -> ""

5. TEXTO DESCRIPTIVO SIN DIRECCIÃ“N
   âœ— "InformaciÃ³n no disponible" -> ""
   âœ— "Ver documento anexo" -> ""
   âœ— "Calle" -> ""

6. NÃšMEROS MUY LARGOS (probablemente datos extraÃ±os)
   âœ— "123456789012345" -> "" (mÃ¡s de 10 dÃ­gitos consecutivos)

================================================================================
ðŸ“Œ REGLA 4: VALIDACIÃ“N DE COMPONENTES NUMÃ‰RICOS
================================================================================

Para que una direcciÃ³n se procese, DEBE TENER:

1. Con tipo de vÃ­a:
   - Tipo de vÃ­a vÃ¡lido + al menos 2 componentes
   - Al menos UNO de los componentes debe empezar con dÃ­gito (0-9)
   - Ejemplo vÃ¡lido: "Calle 123 45" âœ“
   - Ejemplo invÃ¡lido: "Vereda El Palmar" âœ— (EL no empieza con dÃ­gito)

2. Sin tipo de vÃ­a:
   - Al menos 2 componentes
   - Ambos deben empezar con dÃ­gito
   - Ejemplo vÃ¡lido: "123 456" âœ“
   - Ejemplo invÃ¡lido: "ALGO TEXTO" âœ—

================================================================================
ðŸ“Œ REGLA 5: PALABRAS DESCRIPTIVAS QUE SE ELIMINAN
================================================================================

Se eliminan automÃ¡ticamente:
  LOCAL, LOCALES, CENTRO, COMERCIAL, PISO, APTO, APT, APARTAMENTO, OFICINA,
  OF, INTERIOR, INT, BODEGA, CASA, EDIFICIO, ED, ATRIO, TORRE, TO, BLOQUE,
  BL, BLQ, MZ, MANZANA, BARRIO, CONJUNTO, CONJ, ETAPA, PARQUE, TERMINAL,
  PUENTE, AEREO, SUR, NORTE, ESTE, OESTE, COSTADO, FRENTE, ESQUINA, ESQ,
  LAS, LOS, LA, LD, LOTE, LOTES, FASE, MODULO, MOD, SUBLOTE, SECTOR, SECT,
  KM, KILOMETRO, KILOMETROS, DEL, DE, EN, BODEGAS

================================================================================
ðŸ“Œ REGLA 6: CIUDADES QUE SE ELIMINAN
================================================================================

Se eliminan automÃ¡ticamente:
  BOGOTA, CALI, MEDELLIN, BARRANQUILLA, CARTAGENA, SINCELEJO, YUMBO, CHIA,
  FUNZA, COTA, IBAGUE, PEREIRA, MANIZALES, BUCARAMANGA, SANTA MARTA,
  VALLEDUPAR, RIONEGRO, CAJICA, MADRID, FACATATIVA, SOACHA, VILLAVICENCIO,
  DUITAMA, SOGAMOSO, TUNJA, GIRARDOTA, SABANETA, ENVIGADO, SONSON, RIOHACHA,
  GALAP, ZOFIA, FRANCA, CIUDAD, MERCADO, ZONA, AERO, COMPLEJO, INDUSTRIAL,
  COMERCIAL, CIC, JARDIN, SOTANO, BUENAVISTA

================================================================================
ðŸ“Œ EJEMPLOS DETALLADOS
================================================================================

CASO 1: DirecciÃ³n con guiones y sÃ­mbolos
  Entrada:  "Calle 123 #45-67"
  Pasos:
    1. Convertir a mayÃºsculas: "CALLE 123 #45-67"
    2. Reemplazar sÃ­mbolos por espacios: "CALLE 123  45 67"
    3. Compactar espacios: "CALLE 123 45 67"
    4. Detectar patrÃ³n: TIPO_VÃA(CALLE) + NUM(123) + NUM(45) + NUM(67)
    5. Normalizar tipo de vÃ­a: CL
  Salida: "CL 123 45 67" âœ“

CASO 2: DirecciÃ³n con apartamento
  Entrada:  "Cra 7 No. 34-56 apt 2"
  Pasos:
    1. Convertir y limpiar sÃ­mbolos: "CRA 7  34 56 APT 2"
    2. Eliminar descriptivos (APT): "CRA 7  34 56  2"
    3. Compactar espacios: "CRA 7 34 56 2"
    4. Detectar patrÃ³n: TIPO_VÃA(CRA) + NUM(7) + NUM(34) + NUM(56)
    5. Normalizar tipo de vÃ­a: KR
  Salida: "KR 7 34 56" âœ“

CASO 3: Solo nÃºmeros sin tipo de vÃ­a
  Entrada:  "123 456"
  Pasos:
    1. Convertir a mayÃºsculas: "123 456"
    2. No hay patrÃ³n 1 (sin tipo de vÃ­a)
    3. Detectar patrÃ³n 2: NUM(123) + NUM(456)
    4. Ambos empiezan con dÃ­gito: âœ“
    5. Devolver como estÃ¡
  Salida: "123 456" âœ“

CASO 4: Coordenadas GPS (rechazo)
  Entrada:  "10.123456  -74.654321"
  Pasos:
    1. Contar decimales: 2 encontrados
    2. RECHAZO INMEDIATO (>=2 decimales = GPS)
  Salida: "" âœ—

CASO 5: Vereda sin nÃºmeros (rechazo)
  Entrada:  "Vereda El Palmar"
  Pasos:
    1. Convertir a mayÃºsculas: "VEREDA EL PALMAR"
    2. Sin limpiezas significativas
    3. Detectar patrÃ³n 1: TIPO_VÃA(VEREDA) + ??? + ???
    4. Componentes: EL, PALMAR
    5. VALIDACIÃ“N: Â¿Alguno empieza con dÃ­gito? NO
    6. RECHAZO: Falla validaciÃ³n de nÃºmeros
  Salida: "" âœ—

================================================================================
ðŸ“Š MATRIZ DE DECISIÃ“N
================================================================================

Â¿Tiene 2+ decimales?
  â”œâ”€ SÃ -> RECHAZAR (es GPS)
  â””â”€ NO -> Continuar

Â¿EstÃ¡ vacÃ­o o es NaN/none/00?
  â”œâ”€ SÃ -> RECHAZAR
  â””â”€ NO -> Continuar

Â¿Coincide con TIPO_VÃA + componentes?
  â”œâ”€ SÃ
  â”‚  â”œâ”€ Â¿Al menos un componente empieza con dÃ­gito?
  â”‚  â”‚  â”œâ”€ SÃ -> PROCESAR
  â”‚  â”‚  â””â”€ NO -> RECHAZAR
  â””â”€ NO
     â”œâ”€ Â¿Coincide con 2+ componentes numÃ©ricos?
     â”‚  â”œâ”€ SÃ -> PROCESAR (formato: NUM NUM [NUM])
     â”‚  â””â”€ NO -> RECHAZAR

================================================================================
